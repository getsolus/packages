# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : vorta
version    : 0.11.2
release    : 31
source     :
    - https://github.com/borgbase/vorta/archive/refs/tags/v0.11.2.tar.gz : a05813e77d750ba9eaa8678e516e6138a011026b24419be6b86b2fb618c5deda
homepage   : https://vorta.borgbase.com/
license    : GPL-3.0-only
component  : desktop
summary    : A Desktop Client for Borg Backup
description: |
    Vorta is a backup client for macOS and Linux desktops. It integrates the mighty Borg Backup with your favorite desktop environment to protect your data from disk failure, ransomware and theft.
builddeps  :
    - pkgconfig(Qt6UiTools)
    - python-build
    - python-installer
    - python-setuptools
    - python-setuptools-git
    - qt6-linguist
rundeps    :
    - borg
    - python-dateutil
    - python-paramiko
    - python-peewee
    - python-platformdirs
    - python-psutil
    - python-qt6
    - python-secretstorage
build      : |
    %python3_setup
install    : |
    %python3_install
    %install_license LICENSE.txt

    # Install desktop file, appstream metainfo and app icons
    install -Dm00644 src/vorta/assets/metadata/com.borgbase.Vorta.desktop -t $installdir/usr/share/applications/
    install -Dm00644 src/vorta/assets/metadata/com.borgbase.Vorta.appdata.xml -t $installdir/usr/share/metainfo/
    install -Dm00644 src/vorta/assets/icons/icon.svg $installdir/usr/share/icons/hicolor/scalable/apps/com.borgbase.Vorta.svg
    install -Dm0644 package/icon-symbolic.svg %installdir/usr/share/icons/hicolor/symbolic/apps/com.borgbase.Vorta-symbolic.svg
