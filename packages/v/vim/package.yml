name       : vim
version    : 8.2.2557
release    : 116
source     :
    - https://github.com/vim/vim/archive/v8.2.2557.tar.gz : 44da75af85cf1c00260532808e7aac91713e15eca5020ff9c46019a9d1ea9c2e
homepage   : http://www.vim.org/
license    : Vim
component  : editor
summary    : Vi IMproved, an advanced text editor
description: |
    Vim, which stands for Vi IMproved, is an open-source, multiplatform text editor extended from vi. It was first released by Bram Moolenaar in 1991. Since then, numerous features have been added to Vim, many of which are helpful in editing program source code.
builddeps  :
    - pkgconfig(gtk+-3.0)
    - pkgconfig(ice)
    - pkgconfig(lua-5.3)
    - pkgconfig(ruby-2.7)
    - pkgconfig(python3)
    - pkgconfig(xpm)
    - pkgconfig(xt)
    - gpm-devel
setup      : |
    %configure \
        --disable-netbeans \
        --disable-perlinterp \
        --enable-gui=gtk3 \
        --enable-fail-if-missing \
        --enable-luainterp \
        --enable-multibyte \
        --enable-pythoninterp \
        --enable-python3interp \
        --enable-rubyinterp \
        --enable-luainterp \
        --with-compiledby="Solus" \
        --with-features=huge \
        --with-lua-prefix=/usr \
        --with-modified-by="Solus"
build      : |
    %make
install    : |
    %make_install -j1
    install -dm644 $installdir/etc/vim/
    install -Dm644 $pkgfiles/gvim.desktop $installdir/usr/share/applications/gvim.desktop
    install -Dm644 $workdir/runtime/vim48x48.png $installdir/usr/share/pixmaps/gvim.png
    install -Dm644 $pkgfiles/vimrc $installdir/usr/share/vim/vimrc
    install -Dm644 $pkgfiles/vimrc.tiny $installdir/usr/share/vim/vimrc.tiny
    ln -s /usr/bin/vim $installdir/usr/bin/vi
    ln -s /usr/share/vim/vimrc $installdir/etc/vim/vimrc
    ln -s /usr/share/vim/vimrc.tiny $installdir/etc/vim/vimrc.tiny
