# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : ceres-solver
version    : 2.2.0
release    : 8
source     :
    - https://github.com/ceres-solver/ceres-solver/archive/refs/tags/2.2.0.tar.gz : 12efacfadbfdc1bbfa203c236e96f4d3c210bed96994288b3ff0c8e7c6f350d4
homepage   : https://github.com/ceres-solver/ceres-solver
license    :
    - Apache-2.0
    - BSD-3-Clause
component  : programming.library
summary    : A nonlinear least squares minimizer
description: |
    Ceres Solver is an open source C++ library for modeling and solving large, complicated optimization problems. It can be used to solve Non-linear Least Squares problems with bounds constraints and general unconstrained optimization problems.
builddeps  :
    - pkgconfig(eigen3)
    - pkgconfig(gflags)
    - pkgconfig(lapack)
    - pkgconfig(libglog)
    - pkgconfig(tbb)
    - suitesparse-devel
rundeps    :
    - devel :
        - eigen3
        - gflags-devel
        - glog-devel
        - lapack-devel
        - suitesparse-devel
setup      : |
    %cmake_ninja \
        -DEIGENSPARSE=ON \
        -DBUILD_SHARED_LIBS=ON \
        -DBUILD_TESTING=OFF \
        -DBUILD_EXAMPLES=OFF \
        -DBUILD_BENCHMARKS=OFF
build      : |
    # Otherwise your RAM will explode!
    %ninja_build -j1
install    : |
    %ninja_install
    %install_license LICENSE
