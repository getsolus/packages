# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : cmocka
version    : 2.0.2
release    : 4
source     :
    - https://cmocka.org/files/2.0/cmocka-2.0.2.tar.xz : 39f92f366bdf3f1a02af4da75b4a5c52df6c9f7e736c7d65de13283f9f0ef416
homepage   : https://cmocka.org/
license    : Apache-2.0
component  : programming.library
summary    : An elegant unit testing framework for C with support for mock objects.
description: |
    An elegant unit testing framework for C with support for mock objects.
setup      : |
    mkdir build
    pushd build
    %cmake -DCMAKE_INSTALL_PREFIX=/usr -DUNIT_TESTING=ON ..
    popd
build      : |
    pushd build
    %make
    popd
install    : |
    pushd build
    %make_install
    popd
    #rm $installdir/usr/lib/*.a
check      : |
    pushd build
    %make test
    popd
    %install_license LICENSE
