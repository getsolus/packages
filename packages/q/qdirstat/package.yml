# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : qdirstat
version    : '2.0'
release    : 11
source     :
    - https://github.com/shundhammer/qdirstat/archive/refs/tags/2.0.tar.gz : a0b2ba91caf68ec4ee7705d5063bc542ac8aea4d421451103245c69d272bf19f
homepage   : https://github.com/shundhammer/qdirstat
license    : GPL-2.0-only
component  : desktop
summary    : QDirStat is a graphical application to show where your disk space has gone and to help you to clean it up
description: |
    graphical disk usage display with cleanup facilities. QDirStat (Qt Directory Statistics) is a small utility program that sums up disk usage for directory trees, very much like the Unix 'du' command. It displays the disk space used up by a directory tree, both numerically and graphically. It is network transparent (i.e., you can use it to sum up FTP servers), and comes with predefined and user configurable cleanup actions.
clang      : true
builddeps  :
    - pkgconfig(Qt6Core5Compat)
rundeps    :
    - perl-uri # for qdirstat-cache-writer
    - xdg-utils
setup      : |
    qmake6 INSTALL_PREFIX=$installdir/usr
build      : |
    %make
install    : |
    %make_install
    %install_license LICENSE
    
    # Install man pages
    install -Dm00644 man/qdirstat.1 $installdir/usr/share/man/man1/qdirstat.1
    install -Dm00644 man/qdirstat-cache-writer.1 $installdir/usr/share/man/man1/qdirstat-cache-writer.1
    
    # Install metainfo
    install -Dm00644 metainfo/io.github.shundhammer.qdirstat.metainfo.xml $installdir/usr/share/metainfo/io.github.shundhammer.qdirstat.metainfo.xml
