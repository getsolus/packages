# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: python-proton-vpn-local-agent
version: 1.6.0
release: 9
source:
    - https://github.com/ProtonVPN/local-agent-rs/archive/refs/tags/1.6.0.tar.gz: 52b62ee267ef09d004f6bbfd10ad7ce28a5c32136200b4492c7e681be18d1676
homepage: https://github.com/ProtonVPN/local-agent-rs
license: GPL-3.0-or-later
component: programming.python
summary: Proton VPN local agent written in Rust
description: |
    Proton VPN local agent written in Rust
networking: true
builddeps:
    - rust
setup: |
    pushd $workdir/python-proton-vpn-local-agent
    %cargo_fetch
    popd
build: |
    pushd $workdir/python-proton-vpn-local-agent
    %cargo_build
    popd
install: |
    install -Dm00755 $workdir/python-proton-vpn-local-agent/target/release/libpython_proton_vpn_local_agent.so $installdir/usr/lib/python%python3_version%/site-packages/proton/vpn/local_agent.abi3.so
