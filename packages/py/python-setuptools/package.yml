# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : python-setuptools
version    : 80.9.0
release    : 25
source     :
    - https://pypi.debian.net/setuptools/setuptools-80.9.0.tar.gz : f36b47402ecde768dbfafc46e8e4207b4360c654f1f3bb84475f0a28628fb19c
homepage   : https://github.com/pypa/setuptools
license    : MIT
component  : programming.python
summary    : Easily download, build, install, upgrade, and uninstall Python packages
description: |
    Setuptools allows the easy download, build, install, upgrade, and uninstallation of Python packages.
environment: |
    # Don't want .exe files
    export SETUPTOOLS_INSTALL_WINDOWS_SPECIFIC_FILES=0
builddeps  :
    - pkgconfig(python3)
    - python-build
    - python-installer
    - python-packaging
    - python-wheel
checkdeps  :
    - pip
    - python-filelock
    - python-jaraco.envs
    - python-jaraco.path
    - python-jaraco.test
    - python-path
    - python-pytest
    - python-tomli-w
    - python3-test
    - virtualenv
networking : yes # check
build      : |
    %python3_setup
install    : |
    %python3_install
check      : |
    export PYTHONPATH="$PWD"

    pytest_args=(
        --ignore tools/finalize.py # jaraco.develop is not packaged
        --ignore tools/vendored.py # jaraco.packaging is not packaged
        --ignore=setuptools/tests/config/test_apply_pyprojecttoml.py
        --ignore=setuptools/tests/test_editable_install.py
        --ignore=setuptools/tests/integration/
        # devendoring
        --deselect setuptools/tests/test_setuptools.py::test_wheel_includes_vendored_metadata
        --deselect setuptools/tests/test_virtualenv.py::test_no_missing_dependencies
        # system site packages
        --deselect setuptools/tests/test_virtualenv.py::test_pip_upgrade_from_source
    )

    %python3_test pytest -v "${pytest_args[@]}"
