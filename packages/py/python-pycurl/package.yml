# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : python-pycurl
version    : 7.45.7
release    : 27
source     :
    - https://files.pythonhosted.org/packages/source/p/pycurl/pycurl-7.45.7.tar.gz : 9d43013002eab2fd6d0dcc671cd1e9149e2fc1c56d5e796fad94d076d6cb69ef
homepage   : https://pypi.org/project/pycurl 
license    :
    - LGPL-2.1-or-later
    - MIT
component  : programming.python
summary    : Curl module for python
description: |
    PycURL is a Python interface to libcurl. PycURL can be used to fetch objects identified by a URL from a Python program, similar to the urllib Python module. PycURL is mature, very fast, and supports a lot of features.
builddeps  :
    - pkgconfig(libcurl)
    - pkgconfig(python3)
    - python-build
    - python-installer
    - python-setuptools
checkdeps  :
    - flask
    - python-flaky
    - python-pytest
build      : |
    %python3_setup
install    : |
    %python3_install
    mv $installdir/usr/share/doc/pycurl $installdir/usr/share/doc/python-pycurl
check      : |
    # remove test-cases that won't work in our sandbox
    rm -fv tests/{ftp_test.py,seek_cb_test.py,ssh_key_cb_test.py}
    rm examples/tests/{test_gtk.py,test_build_config.py}
    # Deselect test_libcurl_ssl tests (require bundled libcurl) and Kerberos tests (libcurl not built with Kerberos support)
    %python3_test pytest3 -v -k "not (test_libcurl_ssl or test_krb4level or test_krblevel)"
