# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: python-ujson
version: 5.11.0
release: 15
source:
    - https://files.pythonhosted.org/packages/source/u/ujson/ujson-5.11.0.tar.gz: e204ae6f909f099ba6b6b942131cee359ddda2b6e4ea39c12eb8b991fe2010e0
homepage: https://github.com/ultrajson/ultrajson
license: BSD-3-Clause
component: programming.python
summary: Ultra fast JSON decoder and encoder written in C with Python bindings
description: |
    UltraJSON is an ultra fast JSON encoder and decoder written in pure C with bindings for Python 3.7+.
builddeps:
    - pkgconfig(python3)
    - double-conversion-devel
    - python-build
    - python-installer
    - python-setuptools
    - python-setuptools-scm
checkdeps:
    - python-pytest
environment: |
    export UJSON_BUILD_DC_INCLUDES="/usr/include/double-conversion"
    export UJSON_BUILD_DC_LIBS="-ldouble-conversion"
build: |
    %python3_setup
install: |
    %python3_install
check: |
    %python3_test pytest -v
