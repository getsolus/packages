# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : apache-ant
version    : 1.10.15
release    : 13
source     :
    - https://github.com/apache/ant/archive/refs/tags/rel/1.10.15.tar.gz : ec9db6ab5d812b803ec82421f7e95527657def3bbc52f9f2da6e0cf22345db85
license    : Apache-2.0
component  : programming.java
homepage   : https://ant.apache.org/
summary    : A software tool for automating software build processes
description: |
    Apache Ant is a Java library and command-line tool whose mission is to drive processes described in build files as targets and extension points dependent upon each other.
builddeps  :
    - openjdk-21
rundeps    :
    - openjdk-21
build      : |
    export JAVA_HOME=/usr/lib64/openjdk-21
    ./build.sh -Dant.install=$installdir/usr install-lite
install    : |
    find $installdir/usr/bin \( -name '*.cmd' -o -name '*.bat' \) -delete
    mv $installdir/usr/lib $installdir/usr/lib64

    pushd $installdir/usr/bin
    find . -type f \! -name "*.*" -exec sed --debug -i "2r $pkgfiles/java-shim.txt" {} \;
    popd 

    %install_license LICENSE
