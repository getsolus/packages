# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: ada
version: 3.2.7
release: 4
source:
    - https://github.com/ada-url/ada/archive/refs/tags/v3.2.7.tar.gz: 91094beb8090875b03af74549f03b9ad3f21545d29c18e88dff0d8004d7c1417
homepage: https://github.com/ada-url/ada
license: Apache-2.0
component: programming.library
summary: URL parser written in modern C++
description: |
    WHATWG-compliant and fast URL parser written in modern C++
clang: true
optimize: thin-lto
networking: true
setup: |
    sed -e "s|@@VERSION@@|$version|g" $pkgfiles/ada.pc.in > ada.pc

    %cmake_ninja -DBUILD_SHARED_LIBS=ON
build: |
    %ninja_build
install: |
    %ninja_install

    # pkg-config
    install -Dm00644 ada.pc -t $installdir/usr/lib64/pkgconfig/
