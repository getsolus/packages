# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : ada
version    : 3.3.0
release    : 5
source     :
    - https://github.com/ada-url/ada/archive/refs/tags/v3.3.0.tar.gz : 75565e2d4cc8e3ce2dd7927f5c75cc5ebbd3b620468cb0226501dae68d8fe1cd
homepage   : https://github.com/ada-url/ada
license    :
    - Apache-2.0
    - MIT
component  : programming.library
summary    : URL parser written in modern C++
description: |
    WHATWG-compliant and fast URL parser written in modern C++
clang      : true
optimize   : 
    - thin-lto
networking : true
setup      : |
    sed -e "s|@@VERSION@@|$version|g" $pkgfiles/ada.pc.in > ada.pc

    %cmake_ninja -DBUILD_SHARED_LIBS=ON
build      : |
    %ninja_build
install    : |
    %ninja_install

    # pkg-config
    install -Dm00644 ada.pc -t $installdir/usr/lib64/pkgconfig/
    %install_license LICENSE-APACHE LICENSE-MIT
