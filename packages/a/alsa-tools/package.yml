# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : alsa-tools
version    : 1.2.15
release    : 15
source     :
    - https://www.alsa-project.org/files/pub/tools/alsa-tools-1.2.15.tar.bz2 : 800498d35233672ef67f4bf74cc6e1d37e1fe70c0540e2d2e062f2319e7b5df7
homepage   : https://www.alsa-project.org
license    : GPL-2.0-or-later
component  : system.utils
summary    : Advanced soundcard tools
description: |
    The ALSA Tools package contains advanced tools for certain sound cards.
builddeps  :
    - pkgconfig(alsa)
    - pkgconfig(gtk+-2.0)
    - pkgconfig(gtk+-3.0)
    - pkgconfig(gtk4)
    - pkgconfig(xft)
    - fltk-devel
build      : |
    %patch -p1 -i $pkgfiles/0001-Ensure-modprobe.d-directory-exists-before-copying-fi.patch
    sed -i "s|hwmixvolume||" Makefile
    sed -i "s|qlo10k1||" Makefile
    export CONFIGURE_ARGS="%CONFOPTS% hotplugdir=/usr/share/alsa/hotplug/usb"
    hotplugdir=/usr/share/alsa/hotplug/usb %make configure
install    : |
    %make_install exec_prefix=/usr hotplugdir=/usr/share/alsa/hotplug/usb prefix=/usr
    %install_license as10k1/COPYING