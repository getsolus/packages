# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: acl
version: 2.3.2
release: 22
source:
    - http://download.savannah.nongnu.org/releases/acl/acl-2.3.2.tar.gz: 5f2bdbad629707aa7d85c623f994aa8a1d2dec55a73de5205bac0bf6058a2f7c
homepage: https://www.gnu.org.ua/software/pies/manual/ACL.html
license: LGPL-2.1-only
summary: Access control list shared library
component: system.base
autodep: false
description: |
    This package contains the libacl.so dynamic library containing the POSIX 1003.1e draft standard 17 functions for manipulating access control lists.
builddeps:
    - pkgconfig32(libattr)
emul32: true
environment: |
    # Help with musl builds
    export CFLAGS="${CFLAGS/-D_FORTIFY_SOURCE=2/}"
setup: |
    %patch -p1 -i $pkgfiles/getfacl-fix-uninitialized-variable.patch
    %configure_no_runstatedir --libexecdir=%libdir% --disable-static
build: |
    %make
install: |
    %make_install
    rm $installdir/%libdir%/*.la
    %make clean
