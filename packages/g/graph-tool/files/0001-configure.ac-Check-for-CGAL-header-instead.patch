From e7fe42c09d50fe424c00e22a8fd115560d7c7f4c Mon Sep 17 00:00:00 2001
From: Joey Riches <josephriches@gmail.com>
Date: Thu, 11 Sep 2025 19:22:00 +0100
Subject: [PATCH 1/1] configure.ac: Check for CGAL header instead

CGAL is now a header only library since 5.0.0
---
 configure.ac | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

diff --git a/configure.ac b/configure.ac
index 3d697c44..3983934d 100644
--- a/configure.ac
+++ b/configure.ac
@@ -172,9 +172,7 @@ fi
 dnl GNU MP library (needed by CGAL)
 AC_CHECK_LIB(gmp, __gmpz_init, ,
              [AC_MSG_ERROR([GNU MP not found (CGAL dependency), see https://gmplib.org/])])
-dnl CGAL
-AX_LIB_CGAL_CORE([], AC_MSG_ERROR([CGAL library not found.]))
-[CGAL_FLAGS="-frounding-math"]
+
 AC_MSG_CHECKING(whether to enable debbuging with valgrind)
 AC_ARG_ENABLE([valgrind], [AS_HELP_STRING([--enable-valgrind],[enable valgrind debugging [default=disabled] ])],
               if test $enableval = yes; then
@@ -189,6 +187,12 @@ AC_SUBST(CGAL_FLAGS)
 
 dnl Checks for header files.
 
+dnl CGAL
+AC_CHECK_HEADERS([CGAL/version.h],
+  [],
+  [AC_MSG_ERROR([CGAL headers not found. Please install CGAL >= 5.])])
+CGAL_FLAGS="-frounding-math"
+
 dnl numpy
 AX_PYTHON_MODULE(numpy, fatal)
 [NUMPY_DIR=`$PYTHON -c "import numpy; print(numpy.get_include())"`]
@@ -451,4 +455,3 @@ else
    echo "$(color 1)no$(reset)"
 fi
 echo -e "$(color 2)================================================================================$(reset)"
-
-- 
2.49.1

