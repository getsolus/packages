# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: gnome-web
version: "49.2"
release: 78
source:
    - https://download.gnome.org/sources/epiphany/49/epiphany-49.2.tar.xz: b3ba3d68213e87f81f1733e85500c37b82b5938f9009e4fe89994963d5fb2b8e
homepage: https://apps.gnome.org/Epiphany/
license: GPL-3.0-or-later
summary: Browse the web
description: |
    The web browser for GNOME, featuring tight integration with the desktop and a simple and intuitive user interface that allows you to focus on your web pages. If youâ€™re looking for a simple, clean, beautiful view of the web, this is the browser for you. Web is often referred to by its code name, Epiphany.
component: network.web.browser
optimize:
    - lto
builddeps:
    - pkgconfig(gcr-4)
    - pkgconfig(gsettings-desktop-schemas)
    - pkgconfig(gstreamer-1.0)
    - pkgconfig(hogweed)
    - pkgconfig(icu-io)
    - pkgconfig(json-glib-1.0)
    - pkgconfig(libadwaita-1)
    - pkgconfig(libarchive)
    - pkgconfig(libdazzle-1.0)
    - pkgconfig(libnotify)
    - pkgconfig(libportal-gtk4)
    - pkgconfig(libsecret-1)
    - pkgconfig(libsoup-3.0)
    - pkgconfig(libxslt)
    - pkgconfig(sqlite3)
    - pkgconfig(webkitgtk-6.0)
    - blueprint-compiler
    - desktop-file-utils
    - itstool
setup: |
    %patch -p1 -i $pkgfiles/0001-Set-Solus-blog-as-default-homepage.patch
    %meson_configure
build: |
    %ninja_build
install: |
    %ninja_install
replaces:
    - epiphany
    - dbginfo: epiphany-dbginfo
