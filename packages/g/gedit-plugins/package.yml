# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: gedit-plugins
version: '48.2'
release: 43
source:
    - https://gitlab.gnome.org/World/gedit/gedit-plugins/-/archive/48.2/gedit-plugins-48.2.tar.bz2: f682fd49a1d273ef30fc104e0eb5968394d58ab93aa32b58ba8bbf9850e2e7d4
homepage: https://gitlab.gnome.org/World/gedit/gedit-plugins
license: GPL-2.0-or-later
component: desktop.gnome
summary:
    - Plugins for gedit
    - common: Common data required for plugins
    - ^gedit-plugin-bookmarks: gedit bookmarks plugin
    - ^gedit-plugin-drawspaces: gedit drawspaces plugin
    - ^gedit-plugin-smartspaces: gedit smartspaces plugin
    - ^gedit-plugin-wordcompletion: gedit wordcompletion plugin
description:
    - A collection of plugins for gedit
    - common: Common files required by all plugins.
    - ^gedit-plugin-bookmarks: The gedit bookmarks plugin.
    - ^gedit-plugin-drawspaces: The gedit drawspaces plugin.
    - ^gedit-plugin-smartspaces: The gedit smartspaces plugin.
    - ^gedit-plugin-wordcompletion: The gedit wordcompletion plugin.
builddeps:
    - pkgconfig(gedit)
    - pkgconfig(gucharmap-2.90)
    - pkgconfig(libgit2-glib-1.0)
    - pkgconfig(pygobject-3.0)
    - pkgconfig(vte-2.91)
    - itstool
    - vala
rundeps:
    - ^gedit-plugin-bookmarks:
          - gedit-plugins-common
    - ^gedit-plugin-drawspaces:
          - gedit-plugins-common
    - ^gedit-plugin-smartspaces:
          - gedit-plugins-common
    - ^gedit-plugin-wordcompletion:
          - gedit-plugins-common
    - common:
          - python-gobject
    - gedit-plugin-bookmarks
    - gedit-plugin-drawspaces
    - gedit-plugin-smartspaces
    - gedit-plugin-wordcompletion
setup: |
    %meson_configure
build: |
    %ninja_build
install: |
    %ninja_install

    # Packages don't get created if they have no files in them
    echo "File created for gedit-plugins" > $workdir/shared
    install -Dm00644 $workdir/shared $installdir/usr/lib64/gedit/plugins/shared
patterns:
    - common:
          - /usr/lib64/gedit/plugins/gpdefs.*
          - /usr/share/help/*/gedit/legal-plugins.xml
          - /usr/share/locale/*/LC_MESSAGES/gedit-plugins.mo
    - ^gedit-plugin-bookmarks:
          - /usr/lib64/gedit/plugins/bookmarks.plugin
          - /usr/lib64/gedit/plugins/libbookmarks.so
          - /usr/share/help/*/gedit/bookmarks.page
          - /usr/share/metainfo/gedit-bookmarks.metainfo.xml
    - ^gedit-plugin-drawspaces:
          - /usr/lib64/gedit/plugins/drawspaces.plugin
          - /usr/lib64/gedit/plugins/libdrawspaces.so
          - /usr/share/glib-2.0/schemas/org.gnome.gedit.plugins.drawspaces.gschema.xml
          - /usr/share/help/*/gedit/draw-spaces.page
          - /usr/share/metainfo/gedit-drawspaces.metainfo.xml
    - ^gedit-plugin-smartspaces:
          - /usr/lib64/gedit/plugins/libsmartspaces.so
          - /usr/lib64/gedit/plugins/smartspaces.plugin
          - /usr/share/help/*/gedit/smartspaces.page
          - /usr/share/metainfo/gedit-smartspaces.metainfo.xml
    - ^gedit-plugin-wordcompletion:
          - /usr/lib64/gedit/plugins/libwordcompletion.so
          - /usr/lib64/gedit/plugins/wordcompletion.plugin
          - /usr/share/glib-2.0/schemas/org.gnome.gedit.plugins.wordcompletion.gschema.xml
          - /usr/share/help/*/gedit/word-completion.page
          - /usr/share/metainfo/gedit-wordcompletion.metainfo.xml
