# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : gnupg
version    : 2.5.17
release    : 48
source     :
    - https://gnupg.org/ftp/gcrypt/gnupg/gnupg-2.5.17.tar.bz2 : 2c1fbe20e2958fd8fb53cf37d7c38e84a900edc0d561a1c4af4bc3a10888685d
license    : GPL-3.0-or-later
homepage   : https://www.gnupg.org
summary    : Complete and free implementation of OpenPGP
component  : security
description: |
    GnuPG is a complete and free implementation of OpenPGP standard as defined by RFC4880. It allows encryption and signing of data and communications, a key management system, and access modules for public key directories.
builddeps  :
    - pkgconfig(bzip2)
    - pkgconfig(gnutls)
    - pkgconfig(gpg-error)
    - pkgconfig(ksba)
    - pkgconfig(libassuan)
    - pkgconfig(libgcrypt)
    - pkgconfig(sqlite3)
    - npth-devel
    - pinentry
rundeps    :
    - pinentry
setup      : |
    %configure \
               --enable-symcryptrun \
               --enable-gpgtar \
               --enable-all-tests
build      : |
    %make
install    : |
    %make_install DESTDIR=$installdir
    ln -s /usr/bin/gpg $installdir/usr/bin/gpg2
check      : |
    # If tests last too long, you can remove --enable-all-tests
    %make check
