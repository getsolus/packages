# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : gopls
version    : 0.20.0
release    : 7
source     :
    - https://github.com/golang/tools/archive/refs/tags/gopls/v0.20.0.tar.gz : 1ff2a83be8be5a61b97fc5d72eab66f368ec20b52c513cc6656fc2e502e46f19
homepage   : https://pkg.go.dev/golang.org/x/tools/gopls
license    : BSD-3-Clause
component  : programming.tools
summary    : Go language server (LSP)
description: |
    gopls (pronounced "Go please") is the official Go language server developed by the Go team. It provides IDE features to any LSP-compatible editor.
networking : true
builddeps  :
    - golang
environment: |
    export CGO_CPPFLAGS="${CPPFLAGS}"
    export CGO_CFLAGS="${CFLAGS}"
    export CGO_CXXFLAGS="${CXXFLAGS}"
    export CGO_LDFLAGS="${LDFLAGS}"
    export GOFLAGS="-buildmode=pie -trimpath -ldflags=-linkmode=external -mod=readonly -modcacherw"
    cd gopls
build      : |
    go build -o gopls -ldflags="-X 'main.version=v%version%'"
install    : |
    install -Dm00755 gopls -t $installdir/usr/bin/
