# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : glycin
version    : 2.0.7
release    : 9
source     :
    - https://download.gnome.org/sources/glycin/2.0/glycin-2.0.7.tar.xz : c416ac29b6d3ecdc67b90c15537ba1293ceb7af96fa101cae67b7d1d37e50ab0
homepage   : https://gitlab.gnome.org/sophie-h/glycin
license    :
    - LGPL-2.1-or-later
    - MPL-2.0
component  : desktop.gnome
summary    : Sandboxed and extendable image decoding
description: |
    Glycin allows to decode images into gdk::Texture(s) and to extract image metadata. The decoding happens in sandboxed modular image loaders.
clang      : true
networking : true
builddeps  :
    - pkgconfig(cairo)
    - pkgconfig(gtk4)
    - pkgconfig(lcms2)
    - pkgconfig(libheif)
    - pkgconfig(libjxl)
    - pkgconfig(librsvg-2.0)
    - pkgconfig(libseccomp)
    - pkgconfig(libxml-2.0)
    - git
    - rust
    - vala
setup      : |
    %meson_configure -Dtest_skip_install=true
build      : |
    %ninja_build
install    : |
    %ninja_install
check      : |
    # It always failed
    # %ninja_check
patterns   :
    - gtk4 :
        - /usr/lib64/girepository-1.0/GlyGtk4-*
        - /usr/lib64/libglycin-gtk4-2.so.*
    - gtk4-devel :
        - /usr/include/glycin-gtk4-*
        - /usr/lib64/libglycin-gtk4-2.so
        - /usr/lib64/pkgconfig/glycin-gtk4-*
        - /usr/share/gir-1.0/GlyGtk4-*
        - /usr/share/vala/vapi/glycin-gtk4-*
