# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : melonds
version    : '1.1'
release    : 10
source     :
    - https://github.com/melonDS-emu/melonDS/archive/refs/tags/1.1.tar.gz : 61e339bcb18a68a17485973637d972ea628c5624d7e6b8adf6870f895d5e26fd
homepage   : https://melonds.kuribo64.net/
license    : GPL-3.0-or-later
component  : games.emulator
summary    : DS emulator, sorta
description: |
    melonDS aims at providing fast and accurate Nintendo DS emulation.
builddeps  :
    - pkgconfig(Qt6Multimedia)
    - pkgconfig(Qt6Svg)
    - pkgconfig(faad2)
    - pkgconfig(libarchive)
    - pkgconfig(libenet)
    - pkgconfig(libpcap)
    - pkgconfig(libzstd)
    - pkgconfig(sdl2)
    - pkgconfig(slirp)
    - pkgconfig(wayland-client)
    - pkgconfig(x11)
    - extra-cmake-modules
    - qt6-base-private-devel
setup      : |
    %cmake_ninja -DUSE_QT6=ON
build      : |
    %ninja_build
install    : |
    %ninja_install
    # Install appstream metainfo
    install -Dm00644 $pkgfiles/net.kuribo64.melonDS.appdata.xml -t $installdir/usr/share/metainfo/
