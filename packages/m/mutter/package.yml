# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: mutter
version: "49.2"
release: 139
source:
    - https://download.gnome.org/sources/mutter/49/mutter-49.2.tar.xz: 276391a080e509569240ac8610255d778ab6a88a3250f9b17740255f134e3c0a
homepage: https://gitlab.gnome.org/GNOME/mutter
license: GPL-2.0-or-later
component: desktop.gnome
summary: Gnome Shell Window Manager
description: |
    Gnome Shell compositing window manager
ccache: false
builddeps:
    - pkgconfig(colord)
    - pkgconfig(dri)
    - pkgconfig(glycin-2)
    - pkgconfig(gnome-desktop-4)
    - pkgconfig(gnome-settings-daemon)
    - pkgconfig(gobject-introspection-1.0)
    - pkgconfig(graphene-1.0)
    - pkgconfig(gsettings-desktop-schemas)
    - pkgconfig(gtk4)
    - pkgconfig(gudev-1.0)
    - pkgconfig(json-glib-1.0)
    - pkgconfig(lcms2)
    - pkgconfig(libcanberra-gtk3)
    - pkgconfig(libdisplay-info)
    - pkgconfig(libei-1.0)
    - pkgconfig(libinput)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libstartup-notification-1.0)
    - pkgconfig(libwacom)
    - pkgconfig(sm)
    - pkgconfig(upower-glib)
    - pkgconfig(wayland-eglstream)
    - pkgconfig(wayland-protocols)
    - pkgconfig(wayland-server)
    - pkgconfig(xcursor)
    - pkgconfig(xkbfile)
    - pkgconfig(xkeyboard-config)
    - pkgconfig(xorg-server)
    - pkgconfig(xtst)
    - pkgconfig(xwayland)
    - python-argcomplete
    - python-docutils
patterns:
    - common:
          - /usr/share/GConf/gsettings/mutter-schemas.convert
          - /usr/share/glib-2.0/schemas/org.gnome.mutter*
          - /usr/share/gnome-control-center/keybindings/50-mutter-*
rundeps:
    - devel: mesalib-devel # Internal cogl requires EGL/eglmesaext.h from mesalib-devel
    - mutter-common
setup: |
    %meson_configure \
        -Degl_device=true \
        -Dinstalled_tests=false \
        -Dprofiler=false \
        -Dremote_desktop=true \
        -Dtests=disabled \
        -Dwayland_eglstream=true \
        -Dx11=true
build: |
    %ninja_build
install: |
    %ninja_install
