# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : ninja
version    : 1.12.1
release    : 12
source     :
    - https://github.com/ninja-build/ninja/archive/refs/tags/v1.12.1.tar.gz : 821bdff48a3f683bc4bb3b6f0b5fe7b2d647cf65d52aeb63328c91a6c6df285a
license    : Apache-2.0
component  : programming.tools
homepage   : https://ninja-build.org
summary    : A small build system with a focus on speed
description: |
    Ninja is a small build system with a focus on speed. It differs from other build systems in two major respects: it is designed to have its input files generated by a higher-level build system, and it is designed to run builds as fast as possible.
optimize   : lto
builddeps  :
    - re2c
checkdeps  :
    - pkgconfig(gtest)
setup      : |
    # downstream only for now
    %patch -p1 -i $pkgfiles/0001-Print-OSC-9-4-ANSI-sequence-progress-report-during-e.patch

    %cmake_ninja
build      : |
    %ninja_build
install    : |
    %ninja_install
check      : |
    %ninja_check
