# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: nextpnr
version: "0.9"
release: 6
source:
    - https://github.com/YosysHQ/nextpnr/archive/refs/tags/nextpnr-0.9.tar.gz: 8cebc65049ff91c411d963ea2304b1a3dd42036f79de2eb3e9834c842f934495
homepage: https://github.com/YosysHQ/nextpnr
license: ISC
component: office.scientific
summary: A portable FPGA place and route tool.
description: |
    nextpnr is a vendor-neutral, timing-driven, FOSS FPGA placement and routing tool.
patterns:
    - generic: /usr/bin/*-generic
    - ice40: /usr/bin/*-ice40
builddeps:
    - pkgconfig(Qt5Core)
    - pkgconfig(eigen3)
    - pkgconfig(python3)
    - icestorm
    - libboost-devel
    - yosys
rundeps:
    - ice40: icestorm
setup: |
    %cmake_ninja \
        -DARCH="ice40;generic" \
        -DBUILD_GUI=ON
build: |
    %ninja_build
install: |
    %ninja_install
