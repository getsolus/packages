# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : nomacs
version    : 3.21.1
release    : 22
source     :
    - https://github.com/nomacs/nomacs/archive/refs/tags/3.21.1.tar.gz : 7d0841d00ed6538328d4ffc91d8f3f53f457d50860f231c928deadc8d6e7aaad
homepage   : https://nomacs.org/
license    : GPL-3.0-or-later
component  : multimedia.graphics
summary    : nomacs is a free, open source image viewer
description: |
    nomacs is a free, open source image viewer, which supports multiple platforms. You can use it for viewing all common image formats including RAW and psd images.
networking : true
builddeps  :
    - pkgconfig(Qt6Linguist)
    - pkgconfig(Qt6Svg)
    - pkgconfig(Qt6UiTools)
    - pkgconfig(exiv2)
    - pkgconfig(libraw)
    - pkgconfig(libssh)
    - pkgconfig(libtiff-4)
    - pkgconfig(opencv4)
    - lcov
rundeps    :
    - qt5-imageformats
setup      : |

    cd ImageLounge
    # Create the plugins directory in the source
    # But doesn't currently build with them included
    #cp -a $sources/nomacs-plugins.git plugins
    %cmake_ninja -DUSE_SYSTEM_QUAZIP=ON -DENABLE_TRANSLATIONS=ON .
build      : |
    cd ImageLounge
    %ninja_build
install    : |
    cd ImageLounge
    %ninja_install
