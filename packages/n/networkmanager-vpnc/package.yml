# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : networkmanager-vpnc
version    : 1.4.0
release    : 22
source     :
    - https://download.gnome.org/sources/NetworkManager-vpnc/1.4/NetworkManager-vpnc-1.4.0.tar.xz : e3b2a98880275a1b75154bc317a78643cfdf9ea7e70df4eed9648f29ea253730
homepage   : https://networkmanager.dev
license    : GPL-2.0-or-later
component  : network.base
summary    : VPNC plugin for Network Manager
description: |
    VPNC Plugin for Network Manager
builddeps  :
    - pkgconfig(dbus-glib-1)
    - pkgconfig(gtk+-3.0)
    - pkgconfig(gtk4)
    - pkgconfig(libnma)
    - pkgconfig(libsecret-1)
    - gettext-devel
rundeps    :
    - vpnc
setup      : |
    %patch -p1 -i $pkgfiles/0001-Ensure-we-check-usr-bin-vpnc-as-well-since-that-is-w.patch

    # dbus-1 should be moved out of etc, so change sysconfdir
    %reconfigure --sysconfdir=/usr/share --with-gtk4
build      : |
    %make
install    : |
    %make_install
    %install_license COPYING
