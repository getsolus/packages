# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : just
version    : 1.46.0
release    : 46
source     :
    - https://github.com/casey/just/archive/refs/tags/1.46.0.tar.gz : f60a578502d0b29eaa2a72c5b0d91390b2064dfd8d1a1291c3b2525d587fd395
license    : CC0-1.0
component  : programming.tools
homepage   : https://github.com/casey/just/
summary    : Just a command runner
description: |
    Just is a handy way to save and run project-specific commands. As it's a command runner, not a build system, it avoids many of Make's complexities and idiosyncrasies.
networking : true
builddeps  :
    - rust
setup      : |
    %cargo_fetch
build      : |
    %cargo_build

    mkdir man
    target/release/just --man > man/just.1
install    : |
    install -Dm00755 target/release/just $installdir/usr/bin/just
    install -Dm00644 man/just.1 $installdir/usr/share/man/man1/just.1
    install -Dm00644 completions/just.bash $installdir/usr/share/bash-completion/completions/just
    install -Dm00644 completions/just.fish $installdir/usr/share/fish/vendor_completions.d/just.fish
    install -Dm00644 completions/just.zsh $installdir/usr/share/zsh/site-functions/_just
    %install_license LICENSE
check      : |
    # completions::bash requires that we be building from git source
    %cargo_test -- --skip fmt::write_error --skip completions::bash
