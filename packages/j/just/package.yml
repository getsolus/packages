# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : just
version    : 1.44.1
release    : 44
source     :
    - https://github.com/casey/just/archive/refs/tags/1.44.1.tar.gz : ad93602b25c87de0f3cb90c5970a5b8f5ccca6fb87ae393be7e85477d6bbd268
license    : CC0-1.0
component  : programming.tools
homepage   : https://github.com/casey/just/
summary    : Just a command runner
description: |
    Just is a handy way to save and run project-specific commands. As it's a command runner, not a build system, it avoids many of Make's complexities and idiosyncrasies.
networking : true
builddeps  :
    - rust
setup      : |
    %cargo_fetch
build      : |
    %cargo_build

    mkdir man
    target/release/just --man > man/just.1
install    : |
    install -Dm00755 target/release/just $installdir/usr/bin/just
    install -Dm00644 man/just.1 $installdir/usr/share/man/man1/just.1
    install -Dm00644 completions/just.bash $installdir/usr/share/bash-completion/completions/just
    install -Dm00644 completions/just.fish $installdir/usr/share/fish/vendor_completions.d/just.fish
    install -Dm00644 completions/just.zsh $installdir/usr/share/zsh/site-functions/_just
    %install_license LICENSE
check      : |
    # completions::bash requires that we be building from git source
    %cargo_test -- --skip fmt::write_error --skip completions::bash
