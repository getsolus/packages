--- a/image/decode/segdec.c
+++ b/image/decode/segdec.c
@@ -29,6 +29,11 @@
 #include "strcodec.h"
 #include "decode.h"
 
+// Forward declaration for non-MSVC platforms
+#if !defined(_MSC_VER) && !defined(_BIG__ENDIAN_)
+extern U32 _byteswap_ulong(U32);
+#endif
+
 #ifdef MEM_TRACE
 #define TRACE_MALLOC    1
 #define TRACE_NEW       0

