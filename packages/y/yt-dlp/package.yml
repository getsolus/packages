# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : yt-dlp
version    : 2026.01.29
release    : 264
source     :
    - https://github.com/yt-dlp/yt-dlp/archive/refs/tags/2026.01.29.tar.gz : 1026d6b212e38b21acde6fde34d1d2d83da5e23a7ad38a455528dadaec3fefe7
license    : Unlicense
component  : network.download
homepage   : https://github.com/yt-dlp/yt-dlp
summary    : yt-dlp is a small command-line program for downloading videos from YouTube and other platforms
description: |
    yt-dlp, a fork of youtube-dl, is a small command-line program for downloading videos from YouTube and other platforms
replaces   :
    - youtube-dl
    - yt-dlc
builddeps  :
    - pkgconfig(python3)
    - pandoc
    - python-build
    - python-hatchling
    - python-installer
rundeps    :
    - deno
    - mutagen
    - python-certifi
    - python-pycryptodome
    - python-websockets
    - python3
    - yt-dlp-ejs
build      : |
    %make PREFIX=$installdir/usr yt-dlp.1 completion-bash completion-fish completion-zsh
    python3 -m build --wheel --no-isolation
install    : |
    python3 -m installer --destdir="$installdir" dist/*.whl
    rm -rf $installdir/usr/share/doc
    ln -s /usr/bin/yt-dlp $installdir/usr/bin/youtube-dl
    ln -s /usr/bin/yt-dlp $installdir/usr/bin/yt-dlc
