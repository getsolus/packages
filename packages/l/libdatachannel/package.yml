# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : libdatachannel
version    : 0.24.1
release    : 2
source     :
        - git|https://github.com/paullouisageneau/libdatachannel.git : v0.24.1
homepage   : https://libdatachannel.org/
license    : MPL-2.0
component  : programming.library
summary    : C/C++ WebRTC network library featuring Data Channels, Media Transport, and WebSockets
description: |
    libdatachannel is a standalone implementation of WebRTC Data Channels, WebRTC Media Transport, and WebSockets in C++17 with C bindings for POSIX platforms (including GNU/Linux, Android, FreeBSD, Apple macOS and iOS) and Microsoft Windows. WebRTC is a W3C and IETF standard enabling real-time peer-to-peer data and media exchange between two devices.
builddeps  :
    - pkgconfig(libsrtp2)
    - pkgconfig(nice)
    - pkgconfig(nlohmann_json)
clang      : true
setup      : |
    %cmake_ninja \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DCMAKE_INSTALL_LIBDIR=%libdir% \
        -DUSE_NICE=1 \
        -DUSE_SYSTEM_PLOG=0 \
        -DUSE_SYSTEM_USRSCTP=0 \
        -DUSE_SYSTEM_JUICE=0 \
        -DUSE_SYSTEM_JSON=1 \
        -DUSE_SYSTEM_SRTP=1 \
        -DNO_EXAMPLES=1 \
        -DNO_TESTS=1 \
        -DUSE_GNUTLS=0 \
        -Wno-dev

build      : |
    %ninja_build
install    : |
    %ninja_install
