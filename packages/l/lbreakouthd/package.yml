# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: lbreakouthd
version: '1.2'
release: 7
source:
    - https://sourceforge.net/projects/lgames/files/lbreakouthd/lbreakouthd-1.2.tar.gz: 644cbf6f6656019bc335b02efc59e9b0fa3c5acbd21800db75a49753f8297419
homepage: https://lgames.sourceforge.io/LBreakoutHD/
license: GPL-3.0-or-later
component: games.arcade
summary: Arkanoid / Breakout alike game
description: |
    LBreakoutHD is a scaleable 16:9 remake of LBreakout2. You try to clear levels full of different types of bricks and extras by using your paddle to aim balls at the bricks.
builddeps:
    - pkgconfig(SDL2_image)
    - pkgconfig(SDL2_mixer)
    - pkgconfig(SDL2_ttf)
setup: |
    %patch -p1 -i $pkgfiles/0001-Use-Standard-theme-instead-of-Classic.patch
    %configure
build: |
    %make
install: |
    %make_install
    # Install appstream metainfo and additional icon
    install -Dm00644 $pkgfiles/net.sourceforge.lgames.LBreakoutHD.metainfo.xml -t $installdir/usr/share/metainfo/
    install -Dm00644 $pkgfiles/lbreakouthd128.png $installdir/usr/share/icons/hicolor/128x128/apps/lbreakouthd.png
replaces:
    - lbreakout2
    - dbginfo: lbreakout2-dbginfo
