# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: leocad
version: '25.09'
release: 9
source:
    - https://github.com/leozide/leocad/archive/refs/tags/v25.09.tar.gz: db9e129ac35fde3c184510a23fd57c61d1bc5d19d3eac2a4a23f6b73b9f87bd5
    - https://github.com/leozide/leocad/releases/download/v25.09/Library-25.08.zip: 848404645811b00128eb20203b3706a6f2fb8ee68a214debc820f4384dab76ed
homepage: https://www.leocad.org/
license:
    - CC-BY-2.0 # LDraw Library
    - GPL-2.0-or-later
component: multimedia.graphics
summary: CAD application for creating virtual LEGO models
description: |
    LeoCAD is a CAD program for creating virtual LEGO models. It has an intuitive interface, designed to allow new users to start creating new models without having to spend too much time learning the application.
clang: true
builddeps:
    - pkgconfig(Qt5UiTools)
setup: |
    unzip $sources/Library-25.08.zip # Check Me
    %qmake DISABLE_UPDATE_CHECK=1 LDRAW_LIBRARY_PATH=/usr/share/leocad
build: |
    %make
install: |
    %make_install INSTALL_ROOT=$installdir

    # Install LDraw library
    install -Dm00644 library.bin -t $installdir/usr/share/leocad
    # Remove unnecessary files
    rm -rf $installdir/usr/share/doc
