# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : liblouis
version    : 3.36.0
release    : 16
source     :
    - https://github.com/liblouis/liblouis/releases/download/v3.36.0/liblouis-3.36.0.tar.gz : b311903137bd0de31da1f2003997294400098c17b42ff339bf2692eb83be70d4
homepage   : https://liblouis.io/
license    :
    - GPL-3.0-or-later
    - LGPL-2.1-or-later
component  : desktop.library
summary    : Braille translation and back-translation library
description: |
    Liblouis is an open-source braille translator and back-translator named in honor of Louis Braille. It features support for computer and literary braille, supports contracted and uncontracted translation for many languages and has support for hyphenation. New languages can easily be added through tables that support a rule- or dictionary based approach. Tools for testing and debugging tables are also included. Liblouis also supports math braille (Nemeth and Marburg).
builddeps  :
    - help2man
    - python-build
    - python-installer
    - python-setuptools
    - texinfo
setup      : |
    %configure --disable-static
build      : |
    %make -j1
    cd python
    LD_PRELOAD+=":$workdir/liblouis/.libs/liblouis.so"
    %python3_setup
install    : |
    %make_install
    %install_license COPYING AUTHORS
    cd python
    python3 -m installer --destdir="$installdir" dist/*.whl --overwrite-existing
check      : |
    %make check
