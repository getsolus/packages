# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: libppd
version: 2.1.1
release: 4
source:
    - https://github.com/OpenPrinting/libppd/releases/download/2.1.1/libppd-2.1.1.tar.gz: b356aeed1335ef0ca7f799741782a2544e7acee63fb4b047b94e4e0395a9cb62
homepage: https://github.com/OpenPrinting/libppd
license: Apache-2.0 WITH LLVM-exception
component: desktop.core
summary: OpenPrinting support for PPD files
description: |
    OpenPrinting - the legacy support library for PPD files
builddeps:
    - pkgconfig(libcupsfilters)
    - pkgconfig(poppler)
    - ghostscript
rundeps:
    - devel:
          - cups-devel
    - poppler-utils
clang: true
setup: |
    %configure \
               --disable-mutool \
               --disable-static
build: |
    %make
install: |
    %make_install

    rm -rfv $installdir/usr/share/doc

    # ??
    rmdir $installdir/usr/bin
check: |
    %make check || ( cat ./test-suite.log && exit 1 )
