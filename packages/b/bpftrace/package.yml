# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: bpftrace
version: 0.24.1
release: 7
source:
    - https://github.com/bpftrace/bpftrace/archive/refs/tags/v0.24.1.tar.gz: 493265e0687312e6825ef07a6fcbc5327b5ca207c25f2b4738ca1461f90485ac
homepage: https://github.com/iovisor/bpftrace
license: Apache-2.0
component: system.utils
summary: High-level tracing language for Linux eBPF
description: |
    High-level tracing language for Linux eBPF
builddeps:
    - pkgconfig(libbcc)
    - pkgconfig(libbpf)
    - pkgconfig(libedit)
    - pkgconfig(libpcap)
    - asciidoctor
    - binutils-devel
    - cereal
    - clang-devel
    - linux-tools-bpftool
    - pahole
    - vim # Needs xxd which is part of this package
checkdeps:
    - pkgconfig(gtest)
clang: true
optimize: thin-lto
setup: |
    %cmake_ninja
build: |
    %ninja_build
install: |
    %ninja_install
