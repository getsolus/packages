# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : broot
version    : 1.55.0
release    : 31
source     :
    - https://github.com/Canop/broot/archive/refs/tags/v1.55.0.tar.gz : 3049d055f37bfdc3b2057a3e2186cfdb58b596e1586b6b129698b350a80cfda3
homepage   : https://dystroy.org/broot/
license    : MIT
component  : system.utils
summary    : A new way to see and navigate directory trees
description: |
    A new way to see and navigate directory trees using cd, tree, and fuzzy search.
networking : true
builddeps  :
    - pkgconfig(libgit2)
    - pkgconfig(xcb)
    - rust
setup      : |
    %cargo_fetch
build      : |
    export LIBGIT2_NOVENDOR=1
    %cargo_build --features clipboard
install    : |
    %cargo_install
    %install_license LICENSE

    # Install manpage
    sed -i "s/#date//" man/page
    sed -i "s/#version/%version%/" man/page
    install -Dm00644 man/page $installdir/usr/share/man/man1/broot.1

    # Install font
    install -Dm00644 resources/icons/vscode/vscode.ttf $installdir/usr/share/fonts/truetype/vscode.ttf
