# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: halloy
version: "2025.12"
release: 6
source:
    - https://github.com/squidowl/halloy/archive/refs/tags/2025.12.tar.gz: 106689f15aeca87e88c7249812b0c8383c6c8f2746df4f5bbd83b579e2ebb756
homepage: https://halloy.squidowl.org/
license: GPL-3.0-or-later
component: network.im
summary: IRC application written in Rust
description: |
    Halloy is an open-source IRC client written in Rust, with the Iced GUI library. It aims to provide a simple and fast client for Mac, Windows, and Linux platforms.
networking: true
builddeps:
    - pkgconfig(alsa)
    - pkgconfig(xcb)
    - rust
setup: |
    %cargo_fetch
build: |
    %cargo_build
install: |
    %cargo_install
    install -Dm00644 assets/linux/org.squidowl.halloy.desktop -t $installdir/usr/share/applications
    install -Dm00644 assets/linux/org.squidowl.halloy.appdata.xml -t $installdir/usr/share/metainfo
    cp -r assets/linux/icons $installdir/usr/share
