name       : pdflib
version    : 7.0.5
release    : 1
source     :
    - https://sourceforge.net/projects/canvasdraw/files/5.14/Docs%20and%20Sources/pdflib_lite-7.0.5_Sources.tar.gz : cecca665d5c17e410dc3a1f29bd26883b7905ceab171b1b2a8f5f57a31b51ba5
homepage   : https://www.pdflib.com/
license    : PDFlib-Lite
component  : multimedia.library
summary    : A library for generating PDF on the fly
description: |
    PDFlib is a well-established developer component for generating and manipulating PDF documents. PDFlib's main targets are dynamic PDF creation on a Web server and PDF creation in any kind of server, desktop or mobile application. You can use PDFlib to dynamically create PDF documents from database contents, similar to dynamic Web pages. Since 1997 PDFlib has proven itself in a wide range of use cases and development environments. Application programmers use PDFlib to create PDF output with text, images, graphics and interactive elements.
builddeps  :
    - lsb-release
rundeps    :
    - examples :
        - pdflib-devel
patterns   :
    - examples :
        - /usr/share/pdflib-lite/examples
setup      : |
    %patch -p 1 -i $pkgfiles/0001-shared-links.patch
build      : |
    %make
install    : |
    install -dm00755 $installdir/usr/{lib64/pkgconfig,include}
    install -m00644 $pkgfiles/*.pc $installdir/usr/lib64/pkgconfig
    rm lib/Linux*/*.a
    chmod 00755 lib/Linux*/*
    mv lib/Linux*/* $installdir/usr/lib64/
    install -m00644 include/* $installdir/usr/include/

    # doc
    mkdir -p $installdir/usr/share/pdflib-lite/doc
    cp $pkgfiles/doc/* $installdir/usr/share/pdflib-lite/doc

    # examples
    cp -R $pkgfiles/examples $installdir/usr/share/pdflib-lite

    # license
    mkdir -p $installdir/usr/share/licenses/pdflib-lite
    cp -H $pkgfiles/PDFlib-Lite-license.pdf $installdir/usr/share/licenses/pdflib-lite/LICENSE.pdf

