name       : protobuf
version    : '31.1'
release    : 19
source     :
    - https://github.com/protocolbuffers/protobuf/releases/download/v31.1/protobuf-31.1.tar.gz : 12bfd76d27b9ac3d65c00966901609e020481b9474ef75c7ff4601ac06fa0b82
homepage   : https://developers.google.com/protocol-buffers/
license    : BSD-3-Clause
component  : programming
summary    : Protocol Buffers - Google's data interchange format
description: |
    Protocol Buffers - Google's data interchange format
builddeps  :
    - pkgconfig(absl_base)
checkdeps  :
    - gtest
clang      : yes
optimize   : thin-lto
setup      : |
    %cmake_ninja -D protobuf_BUILD_SHARED_LIBS=ON \
                 -D protobuf_USE_EXTERNAL_GTEST=ON \
                 -D protobuf_ABSL_PROVIDER=package \
                 -W no-dev
build      : |
    %ninja_build
install    : |
    %ninja_install
check      : |
    ctest --test-dir solusBuildDir
patterns   :
    - devel :
        - /usr/bin/*
