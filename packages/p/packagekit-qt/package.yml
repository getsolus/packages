# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : packagekit-qt
version    : 1.1.2
release    : 4
source     :
    - https://github.com/PackageKit/PackageKit-Qt/archive/refs/tags/v1.1.2.tar.gz : 7c21b594b872f8497d5f854e034c40fd70aa4fd4888255cbc409051c3b6b0dee
homepage   : https://github.com/PackageKit/PackageKit-Qt
license    : LGPL-2.1-or-later
component  :
    - desktop.qt
    - qt5 : desktop.qt
    - qt5-devel : programming.devel
    - qt6 : desktop.qt
    - qt6-devel : programming.devel
summary    :
    - Qt bindings for PackageKit
    - qt5 : Qt bindings for PackageKit - Qt5 bindings
    - qt5-devel : Development files for packagekit-qt-qt5
    - qt6 : Qt bindings for PackageKit - Qt6 bindings
    - qt6-devel : Development files for packagekit-qt-qt6
description: |-
    Qt bindings for PackageKit
builddeps  :
    - pkgconfig(Qt5Core)
    - pkgconfig(Qt6Core)
    - pkgconfig(packagekit-glib2)
rundeps    :
    - qt5 :
        - packagekit
    - qt6 :
        - packagekit
    - qt5-devel :
        - packagekit-devel
        - packagekit-qt-qt5
    - qt6-devel :
        - packagekit-devel
        - packagekit-qt-qt6
clang      : true
optimize   : lto
setup      : |
    %cmake_ninja -B qt5-build \
                 -DCMAKE_AUTOMOC=0

    %cmake_ninja -B qt6-build \
                 -DBUILD_WITH_QT6=ON \
                 -DCMAKE_AUTOMOC=0
build      : |
    %ninja_build -C qt5-build

    %ninja_build -C qt6-build
install    : |
    %ninja_install -C qt5-build

    %ninja_install -C qt6-build
patterns   :
    - qt5 :
        - /usr/lib64/libpackagekitqt5.so.*
    - qt6 :
        - /usr/lib64/libpackagekitqt6.so.*
    - qt5-devel :
        - /usr/include/packagekitqt5
        - /usr/lib64/cmake/packagekitqt5
        - /usr/lib64/libpackagekitqt5.so
        - /usr/lib64/pkgconfig/packagekitqt5.pc
    - qt6-devel :
        - /usr/include/packagekitqt6
        - /usr/lib64/cmake/packagekitqt6
        - /usr/lib64/libpackagekitqt6.so
        - /usr/lib64/pkgconfig/packagekitqt6.pc
