name       : pahole
version    : '1.30'
release    : 4
source     :
    - https://fedorapeople.org/~acme/dwarves/dwarves-1.30.tar.xz : 1c89f47dc4f127c4b9d3fb46c8386a40be45c36ef82e8df472418de9423fc5bb
homepage   : https://git.kernel.org/pub/scm/devel/pahole/pahole.git
license    : GPL-2.0-only
component  : system.utils
summary    : Pahole and other DWARF utils
description: |
    Pahole and other DWARF utils
builddeps  :
    - pkgconfig(libbpf)
    - pkgconfig(libdw)
    - pkgconfig(libelf)
clang      : yes
optimize   : thin-lto
setup      : |
    %patch -p1 -i $pkgfiles/python.diff
    %cmake_ninja \
        -D__LIB=lib64 \
        -DLIBBPF_EMBEDDED=OFF \
build      : |
    %ninja_build
install    : |
    %ninja_install
