# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: pahole
version: '1.31'
release: 5
source:
    - https://fedorapeople.org/~acme/dwarves/dwarves-1.31.tar.xz: 0a7f255ccacf8cc7f8cd119099eb327179b4b3c67cb015af646af6d0cb03054d
homepage: https://git.kernel.org/pub/scm/devel/pahole/pahole.git
license: GPL-2.0-only
component: system.utils
summary: Pahole and other DWARF utils
description: |
    Pahole and other DWARF utils
builddeps:
    - pkgconfig(libbpf)
    - pkgconfig(libdw)
    - pkgconfig(libelf)
clang: true
optimize: thin-lto
setup: |
    %patch -p1 -i $pkgfiles/python.diff
    %cmake_ninja \
        -D__LIB=lib64 \
        -DLIBBPF_EMBEDDED=OFF \
build: |
    %ninja_build
install: |
    %ninja_install
