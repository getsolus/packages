# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : procs
version    : 0.14.10
release    : 1
source     :
    - https://github.com/dalance/procs/archive/refs/tags/v0.14.10.tar.gz : 7b287ac253fd1d202b0ea6a9a8ba2ed97598cf8e7dfd539bd40e382c6dc6d350
homepage   : https://github.com/dalance/procs
license    : MIT
component  : system.utils
summary    : A modern replacement for ps written in Rust
description: |
     procs is a replacement for ps written in Rust. It provides colored and human-readable output, multi-column keyword search, additional information not supported by ps (such as TCP/UDP ports, Docker container names), pager support, watch mode, and tree view.
networking : true
builddeps  :
    - asciidoctor
    - rust
setup      : |
    %cargo_fetch
build      : |
    %cargo_build

    # Generate shell completions
    target/release/procs --gen-completion bash
    target/release/procs --gen-completion fish
    target/release/procs --gen-completion zsh

    # Generate man pages
    asciidoctor -b manpage man/procs.1.adoc
install    : |
    %cargo_install
    %install_license LICENSE

    install -Dm00644 procs.bash $installdir/usr/share/bash-completion/completions/procs
    install -Dm00644 procs.fish $installdir/usr/share/fish/vendor_completions.d/procs.fish
    install -Dm00644 _procs $installdir/usr/share/zsh/site-functions/_procs
    install -Dm00644 man/procs.1 $installdir/usr/share/man/man1/procs.1
