name       : pandoc
version    : 3.7.0.2
release    : 12
source     :
    - https://hackage.haskell.org/package/pandoc-cli-3.7.0.2/pandoc-cli-3.7.0.2.tar.gz : ff4dcab86cfa5291ba11a14d14fef49ddf494c549bdd01b6752ed6a8043c3d3d
homepage   : https://pandoc.org
license    : BSD-3-Clause
component  : office
summary    : Pandoc is a Haskell library for converting from one markup format to another, and a command-line tool that uses this library
description: |
    Pandoc is a Haskell library for converting from one markup format to another, and a command-line tool that uses this library
builddeps  :
    - ghc
    - haskell-cabal-install
networking : true
setup      : |
    export CABAL_DIR="$HOME/.cabal"
    export GHCV=$(ghc --numeric-version)
    cabal update
    cabal build %JOBS% --only-dependencies --disable-tests -O2 --ghc-options="-H128m %JOBS%" \
                       --constraint="crypton-x509-store == 1.6.11" \
                       --constraint="pandoc +embed_data_files"
    %haskell_configure --disable-executable-dynamic \
                       --package-db=$HOME/.cabal/store/ghc-$GHCV/package.db
build      : |
    %haskell_build
install    : |
    %haskell_install
    rm -rf $installdir/{%libdir%,usr/share/pandoc}
check      : |
    %haskell_check
