name       : pandoc
version    : 3.7.0.2
release    : 12
source     :
    - https://github.com/jgm/pandoc/archive/refs/tags/3.7.0.2.tar.gz : a098c1dc8051844e3992f8396c6c947dccbc57b6ca3df2f2c47b9f7fa9f11246
homepage   : https://pandoc.org
license    : BSD-3-Clause
component  : office
summary    : Pandoc is a Haskell library for converting from one markup format to another, and a command-line tool that uses this library
description: |
    Pandoc is a Haskell library for converting from one markup format to another, and a command-line tool that uses this library
builddeps  :
    - ghc
    - haskell-cabal-install
networking : true
setup      : |
    %patch -p1 -i $pkgfiles/0001-upstream-test-fix-before-3.8.1.patch
    cabal update
    cabal configure -O2 %JOBS% \
      --disable-executable-dynamic \
      --ghc-options="-H512m %JOBS%" \
      -f embed_data_files
build      : |
    cabal build pandoc-cli
install    : |
    mkdir -p $installdir/usr/bin
    cabal install --installdir=$installdir/usr/bin --install-method=copy pandoc-cli 
check      : |
    cabal test
