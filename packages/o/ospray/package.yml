# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : ospray
version    : 3.2.0
release    : 4
source     :
    - https://github.com/RenderKit/ospray/archive/refs/tags/v3.2.0.tar.gz : 2c8108df2950bc5d1bc2a62f74629233dbe4f36e3f6a8ea032907d4a3fdc6750
homepage   : https://www.ospray.org/
license    : Apache-2.0
component  : programming.library
summary    : Open, Scalable, and Portable Ray Tracing Engine
description: |
    Intel OSPRay is an open source, scalable, and portable ray tracing engine for high-performance, high-fidelity visualization on CPUs.
builddeps  :
    - pkgconfig(gl)
    - pkgconfig(glfw3)
    - pkgconfig(ompi)
    - pkgconfig(snappy)
    - ispc
    - openimagedenoise-devel
    - openvkl-devel
rundeps    :
    - devel :
        - openimagedenoise-devel
        - openvkl-devel
        - snappy-devel
setup      : |
    %cmake_ninja -L \
      -DOSPRAY_BUILD_ISA=ALL \
      -DOSPRAY_ENABLE_APPS=OFF \
      -DOSPRAY_ENABLE_APPS_EXAMPLES=OFF \
      -DOSPRAY_ENABLE_APPS_TUTORIALS=OFF \
      -DOSPRAY_ENABLE_MODULES=ON \
      -DOSPRAY_MODULE_DENOISER=ON \
      -DOSPRAY_MODULE_MPI=ON
build      : |
    %ninja_build
install    : |
    %ninja_install
