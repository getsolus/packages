# Accept FLTK 1.4 for building the viewer (CMake currently requires exactly 1.3).
# Ref: BLFS #20666, TigerVNC PR #1887, FLTK 1.4 migration.

--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -288,7 +288,7 @@ if(FLTK_FOUND)
     set(CMAKE_REQUIRED_FLAGS "-Wno-error")
     set(CMAKE_REQUIRED_INCLUDES ${FLTK_INCLUDE_DIR})
     set(CMAKE_REQUIRED_LIBRARIES ${FLTK_LIBRARIES})
 
-    check_cxx_source_compiles("#include <FL/Fl.H>\n#if FL_MAJOR_VERSION != 1 || FL_MINOR_VERSION != 3\n#error Wrong FLTK version\n#endif\nint main(int, char**) { return 0; }" OK_FLTK_VERSION)
+    check_cxx_source_compiles("#include <FL/Fl.H>\n#if FL_MAJOR_VERSION != 1 || (FL_MINOR_VERSION != 3 && FL_MINOR_VERSION != 4)\n#error Wrong FLTK version\n#endif\nint main(int, char**) { return 0; }" OK_FLTK_VERSION)
     if(NOT OK_FLTK_VERSION)
       message(FATAL_ERROR "Incompatible version of FLTK")
     endif()
