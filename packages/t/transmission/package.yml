# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : transmission
version    : 4.1.1
release    : 30
source     :
    - https://github.com/transmission/transmission/releases/download/4.1.1/transmission-4.1.1.tar.xz : e743283ee03a42c4d0b08fed2bd52b554aa6c9f65b4d4d45b795c32d98762a79
homepage   : https://transmissionbt.com/
license    : GPL-2.0-or-later
component  : network.download
summary    :
    - Lightweight BitTorrent client
    - cli : CLI component of Transmission
description:
    - Transmission provides a simple and easy to use cross-platform lightweight BitTorrent client
    - cli : CLI component of Transmission
networking : true # check
builddeps  :
    - pkgconfig(ayatana-appindicator3-0.1)
    - pkgconfig(gtkmm-3.0)
    - pkgconfig(libcurl)
    - pkgconfig(libevent)
    - pkgconfig(miniupnpc)
setup      : |
    %cmake_ninja
build      : |
    %ninja_build

    # Create a service without the user set
    sed -i '/^User/d' daemon/transmission-daemon.service.in
install    : |
    %ninja_install
    rm -rf $installdir/usr/share/doc/transmission/news
check      : |
    %ninja_check
patterns   :
    - cli :
        - /usr/bin/transmission-create
        - /usr/bin/transmission-daemon
        - /usr/bin/transmission-edit
        - /usr/bin/transmission-remote
        - /usr/bin/transmission-show
        - /usr/lib*
        - /usr/share/man/man1/transmission-create.1
        - /usr/share/man/man1/transmission-daemon.1
        - /usr/share/man/man1/transmission-edit.1
        - /usr/share/man/man1/transmission-remote.1
        - /usr/share/man/man1/transmission-show.1
        - /usr/share/transmission/*
