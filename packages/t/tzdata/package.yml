# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : tzdata
version    : 2025b
release    : 30
source     :
    - https://data.iana.org/time-zones/releases/tzdata2025b.tar.gz : 11810413345fc7805017e27ea9fa4885fd74cd61b2911711ad038f5d28d71474
    - https://data.iana.org/time-zones/releases/tzcode2025b.tar.gz : 05f8fedb3525ee70d49c87d3fae78a8a0dbae4fe87aa565c65cda9948ae135ec
homepage   : https://www.iana.org/time-zones
license    : Public-Domain
component  : system.base
summary    : Timezone data files
description: |
    This package contains data files with rules for various timezones around the world.
setup      : |
    tar xf $sources/tzcode${version}.tar.gz
build      : |
    make tzdata.zi
install    : |
    tz="africa antarctica asia australasia backward etcetera europe factory northamerica southamerica"

    zic -y ./yearistype -d $installdir/usr/share/zoneinfo -L /dev/null $tz
    zic -y ./yearistype -d $installdir/usr/share/zoneinfo/posix -L /dev/null $tz
    zic -y ./yearistype -d $installdir/usr/share/zoneinfo/right -L leapseconds $tz
    # Default DST
    zic -y ./yearistype -d $installdir/usr/share/zoneinfo -L /dev/null -p America/New_York $tz

    install -m00644 iso3166.tab zone.tab leapseconds tzdata.zi $installdir/usr/share/zoneinfo
