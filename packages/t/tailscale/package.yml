# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : tailscale
version    : 1.92.3
release    : 49
source     :
    - https://github.com/tailscale/tailscale/archive/refs/tags/v1.92.3.tar.gz : 805b2eb3526e14c61c09b7e14ee2ad5bd17ce25ff13961342302737c138041d4
homepage   : https://tailscale.com
license    : BSD-3-Clause
component  : network.clients
summary    : Private WireGuardÂ® networks made easy
description: |
    The easiest, most secure way to use WireGuard and 2FA.
networking : true
builddeps  :
    - git
    - golang
environment: |
    export VERSION_LONG=%version%
    export VERSION_SHORT=%version%
setup      : |
    %patch -p1 -i $pkgfiles/defaults.patch
build      : |
    ./build_dist.sh tailscale.com/cmd/tailscale
    ./build_dist.sh tailscale.com/cmd/tailscaled
install    : |
    %install_license LICENSE
    install -Dm00755 $workdir/tailscale $installdir/usr/bin/tailscale
    install -Dm00755 $workdir/tailscaled $installdir/usr/sbin/tailscaled
    install -Dm00644 $workdir/cmd/tailscaled/tailscaled.service $installdir/usr/lib64/systemd/system/tailscaled.service
    install -Dm00644 $workdir/cmd/tailscaled/tailscaled.defaults $installdir/usr/share/defaults/tailscale/tailscaled
