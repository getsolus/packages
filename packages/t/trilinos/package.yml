name       : trilinos
version    : 16.1.0
release    : 1
source     :
    - https://github.com/trilinos/Trilinos/archive/refs/tags/trilinos-release-16-1-0.tar.gz : e9651c88f581049457036cfc01b527a9d3903c257338eeeab942befd7452f23a
homepage   : https://trilinos.github.io/
license    : BSD-3-Clause
component  : programming.library
summary    : A collection of scientific software libraries
description: |
    Trilinos is a collection of reusable scientific software libraries, known in particular for linear solvers, non-linear solvers, transient solvers, optimization solvers, and uncertainty quantification (UQ) solvers.
builddeps  :
    - pkgconfig(hdf5)
    - pkgconfig(lapack)
    - pkgconfig(netcdf)
    - pkgconfig(numpy)
    - pkgconfig(ompi)
    - pkgconfig(x11)
    - libboost-devel
    - matio-devel
    - suitesparse-devel
setup      : |
    sed -i "51i #include <cstdint>" commonTools/gtest/gtest/gtest.h
    %cmake_ninja \
        -DBUILD_SHARED_LIBS=ON \
        -DTrilinos_ENABLE_ALL_PACKAGES=OFF \
        -DTrilinos_ENABLE_Amesos=ON \
        -DAmesos_ENABLE_KLU=ON \
        -DTrilinos_ENABLE_Aztec00=ON \
        -DTrilinos_ENABLE_EpetraExt=ON \
        -DEpetraExt_BUILD_BTF=ON \
        -DEpetraExt_BUILD_EXPERIMENTAL=ON \
        -DEpetraExt_BUILD_GRAPH_REORDERINGS=ON \
        -DTrilinos_ENABLE_Ifpack=ON \
        -DTrilinos_ENABLE_Teuchos=ON \
        -DTrilinos_ENABLE_COMPLEX_DOUBLE=ON \
        -DTrilinos_ENABLE_ALL_OPTIONAL_PACKAGES=ON \
        -DTPL_ENABLE_AMD=ON \
        -DTPL_AMD_LIBRARY_DIRS="/usr/lib" \
        -DTPL_AMD_INCLUDE_DIRS="/usr/include/suitesparse" \
        -DTPL_ENABLE_BLAS=ON \
        -DTPL_ENABLE_HDF5=ON \
        -DTPL_ENABLE_LAPACK=ON \
        -DTPL_ENABLE_MPI=ON \
        -DTPL_FIND_SHARED_LIBS=ON
build      : |
    %ninja_build
install    : |
    %ninja_install
