# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : streamlink
version    : 8.2.0
release    : 69
source     :
    - https://github.com/streamlink/streamlink/releases/download/8.2.0/streamlink-8.2.0.tar.gz : 64523e99401ddf4ee7f09f551787dc127111eeb9ac8d8b0e8037966efdd7a1a5
homepage   : https://streamlink.github.io/
license    : BSD-2-Clause
component  : network.clients
summary    : Extracts streams from various services and pipes them into a video player of choice
description: |
    Streamlink is a command-line utility which pipes video streams from various services into a video player, such as VLC or mpv. The main purpose of Streamlink is to avoid resource-heavy and unoptimized websites, while still allowing the user to enjoy various streamed content.
networking : true
builddeps  :
    - python-build
    - python-installer
    - python-packaging
    - python-setuptools
checkdeps  :
    - python-freezegun
    - python-pytest
    - python-pytest-trio
    - python-requests-mock
    # rundeps required for running tests
    - python-isodate
    - python-lxml
    - python-pycountry
    - python-pycryptodome
    - python-requests
    - python-trio
    - python-trio-websocket
    - python-urllib3
    - python-websocket-client
rundeps    :
    - ffmpeg
    - python-certifi
    - python-isodate
    - python-lxml
    - python-pycountry
    - python-pycryptodome
    - python-pysocks
    - python-requests
    - python-trio
    - python-trio-websocket
    - python-urllib3
    - python-websocket-client
setup      : |
    %patch -p1 -i $pkgfiles/remove-pytest-minversion.patch
build      : |
    %python3_setup
install    : |
    %python3_install
check      : |
    %python3_test pytest3
