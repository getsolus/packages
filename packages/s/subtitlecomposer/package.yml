name       : subtitlecomposer
version    : 0.7.0
release    : 1
source     :
    - https://invent.kde.org/kde/subtitlecomposer/-/archive/v0.7.0/subtitlecomposer-v0.7.0.tar.gz : d2f0e2f7ababa210a13d79d808eed65838e53784a590dac87566205fea2689ea
license    : GPL-2.0-or-later
component  : multimedia.video
summary    : Video subtitle editor that supports basic and advanced editing operations
description: |
    Subtitle Composer is an open source text-based subtitle editor that supports basic and advanced editing operations.
builddeps  :
    - pkgconfig(gstreamer-plugins-base-1.0)
    - pkgconfig(icu-i18n)
    - pkgconfig(libavcodec)
    - pkgconfig(mpv)
    - extra-cmake-modules
    - kross-devel
    - kxmlgui-devel
optimize   :
    - lto
setup      : |
    %cmake_ninja
build      : |
    %ninja_build
install    : |
    %ninja_install

    # Remove mplayer plugin, because we don't provide mplayer in the repository
    rm -v $installdir/usr/lib64/subtitlecomposer/mplayer.so
    rm -v $installdir/usr/share/subtitlecomposer/icons/hicolor/48x48/apps/mplayer.png
check      : |
    %ninja_check
