name       : suitesparse
version    : 4.5.6
release    : 9
source     :
    - https://github.com/jluttine/suitesparse/archive/v4.5.6.tar.gz : f76cf965bb9d5bc9787420226bc317d9232df04cbd9718d4bd66dc5408095176
license    :
    - BSD-3-Clause
    - GPL-2.0
    - LGPL-2.1
component  : programming
libsplit   : no
summary    : A suite of Sparse matrix packages
description: |
    A suite of Sparse matrix packages
builddeps  :
    - intel-tbb-devel
    - metis-devel
    - openblas-devel
setup      : |
    %patch -p1 < $pkgfiles/suitesparse-link-tbb.patch
build      : |
    BLAS=-lopenblas \
    LAPACK=-lopenblas \
    MY_METIS_LIB=/usr/lib/libmetis.so \
    SPQR_CONFIG=-DHAVE_TBB \
    TBB=-ltbb %make
install    : |
    BLAS=-lopenblas \
    INSTALL_INCLUDE=$installdir/usr/include \
    INSTALL_LIB=$installdir/%libdir%  \
    LAPACK=-lopenblas \
    MY_METIS_LIB=/usr/lib/libmetis.so \
    SPQR_CONFIG=-DHAVE_TBB \
    TBB=-ltbb %make_install
    #rm -f $installdir/%libdir%/*.a
