# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : spirv-cross
version    : 1.4.341.0
release    : 13
source     :
    - https://github.com/KhronosGroup/SPIRV-Cross/archive/refs/tags/vulkan-sdk-1.4.341.0.tar.gz : b2665ac9ddb65ff75a7ca2f6d410e73da443692742a1e3a5b7728ca6069a400c
license    : Apache-2.0
component  : programming.tools
homepage   : https://github.com/KhronosGroup/SPIRV-Cross/
summary    : SPIRV-Cross is a tool designed for parsing and converting SPIR-V to other shader languages
description: |
    SPIRV-Cross is a practical tool and library for performing reflection on SPIR-V and disassembling SPIR-V back to high level languages.
builddeps  :
    - glslang-devel
    - spirv-tools
setup      : |
    %patch -p1 -i $pkgfiles/0001-system-glslang-and-spirv-tools.patch
    %cmake_ninja -DSPIRV_CROSS_SHARED=ON -DPYTHON_EXECUTABLE=/usr/bin/python3
build      : |
    %ninja_build
install    : |
    %ninja_install
    %install_license LICENSE LICENSES/*
# Tests seem to fail using non-bundled deps.
# check      : |
#     %ninja_check
