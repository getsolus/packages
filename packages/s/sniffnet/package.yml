# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : sniffnet
version    : 1.4.2
release    : 2
source     :
    - https://github.com/GyulyVGC/sniffnet/archive/refs/tags/v1.4.2.tar.gz : 7fc4cc610a2bbd823604abe6acabceac2cbeb9d42129851df9b6b24cc24d05c7
homepage   : https://sniffnet.net/
license    :
    - Apache-2.0
    - MIT
component  : network.util
summary    : Comfortably monitor your Internet traffic.
description: |
    Sniffnet is a network monitoring tool to help you easily keep track of your Internet traffic. Whether you want to gather statistics, youâ€™re curious to see who you are exchanging data with, or you need to inspect more in depth what's going on in your network, this app will get you covered.
networking : true
builddeps  :
    - pkgconfig(alsa)
    - pkgconfig(libpcap)
    - rust
setup      : |
    %cargo_fetch
build      : |
    %cargo_build
install    : |
    %cargo_install

    install -D -m 00644 $workdir/resources/logos/raw/icon.png $installdir/usr/share/icons/hicolor/64x64/apps/sniffnet.png
    install -D -m 00644 $workdir/resources/packaging/linux/sniffnet.desktop $installdir/usr/share/applications/net.sniffnet.sniffnet.desktop
    install -D -m 00644 $pkgfiles/net.sniffnet.sniffnet.metainfo.xml $installdir/usr/share/metainfo/net.sniffnet.sniffnet.metainfo.xml
    setcap cap_net_raw,cap_net_admin=eip $installdir/usr/bin/sniffnet
