# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: davfs2
version: 1.7.2
release: 10
source:
    - https://github.com/alisarctl/davfs2/releases/download/rel-1-7-2/davfs2-1.7.2.tar.gz: 1bdc2bb235a9f2e546a6a13c559ecf43c64407e3c4497d77b8ec3f62f4b84e46
homepage: https://savannah.nongnu.org/p/davfs2
license: GPL-3.0-or-later
component: network.util
summary: A file system driver for WebDAV
description: |
    davfs2 is a Linux file system driver that allows you to mount a WebDAV
    resource into your Unix file system tree. So - and that is what makes
    davfs2 different - applications can use it without knowing about WebDAV.
    You may edit WebDAV resources using standard applications that interact
    with the file system as usual.
builddeps:
    - pkgconfig(neon)
setup: |
    %configure sbindir=/usr/sbin dav_localstatedir=/run dav_user=nobody
build: |
    %make
install: |
    %make_install

    # Doesn't contain anything useful
    rm -rf $installdir/usr/share/doc

    install -Dm00644 $pkgfiles/davfs2.sysusers $installdir/%libdir%/sysusers.d/davfs2.conf
    install -Dm00644 $pkgfiles/davfs2.tmpfiles $installdir/%libdir%/tmpfiles.d/davfs2.conf
