# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : font-hack-ttf
version    : '3.003'
release    : 8
source     :
    - https://github.com/source-foundry/Hack/archive/refs/tags/v3.003.tar.gz : 3c6f1a20e86744077e83c9bacf879a5b13f659f1c07e9c5c57d6efc3cbe66c07
homepage   : https://sourcefoundry.org/hack/
license    :
    - MIT
    - Bitstream-Vera
component  : desktop.font
summary    : A typeface designed for source code
description: |
    Hack is designed to be a workhorse typeface for source code. It has deep roots in the free, open source typeface community and expands upon the contributions of the Bitstream Vera & DejaVu projects.
setup      : |
    %patch -p1 -i ${pkgfiles}/644.patch
install    : |
    install -Dm00644 build/ttf/Hack-*.ttf -t ${installdir}/usr/share/fonts/truetype/hack/
    %install_license LICENSE.md

    # Fontconfig
    install -Dm00644 config/fontconfig/45-Hack.conf -t ${installdir}/usr/share/fontconfig/conf.avail/

    # AppStream metainfo
    install -Dm00644 ${pkgfiles}/hack.metainfo.xml ${installdir}/usr/share/metainfo/hack.metainfo.xml

    # Make Hack the default monospace font
    install -dm00755 ${installdir}/usr/share/fontconfig/conf.default
    ln -srv ${installdir}/usr/share/fontconfig/conf.avail/45-Hack.conf ${installdir}/usr/share/fontconfig/conf.default/45-Hack.conf
