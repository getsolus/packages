From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Cory Forsstrom <cforsstrom18@gmail.com>
Date: Thu, 7 Nov 2024 14:34:58 -0800
Subject: [PATCH] stone mime

---
 data/supported-mime-types   | 1 +
 src/fr-archive-libarchive.c | 4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/data/supported-mime-types b/data/supported-mime-types
index 3c5a76d6..8abd45cd 100644
--- a/data/supported-mime-types
+++ b/data/supported-mime-types
@@ -63,3 +63,4 @@ application/x-zstd-compressed-tar;
 application/x-zoo;
 application/zip;
 application/zstd;
+application/x-stone-archive;
diff --git a/src/fr-archive-libarchive.c b/src/fr-archive-libarchive.c
index 14045729..92b77067 100644
--- a/src/fr-archive-libarchive.c
+++ b/src/fr-archive-libarchive.c
@@ -124,6 +124,7 @@ const char *libarchiver_mime_types[] = {
 	"application/x-zstd-compressed-tar",
 #endif
 	"application/zip",
+	"application/x-stone-archive",
 	NULL
 };
 
@@ -208,7 +209,8 @@ fr_archive_libarchive_get_capabilities (FrArchive  *archive,
 	    || (strcmp (mime_type, "application/x-lha") == 0)
 	    || (strcmp (mime_type, "application/x-rar") == 0)
 	    || (strcmp (mime_type, "application/x-rpm") == 0)
-	    || (strcmp (mime_type, "application/x-xar") == 0))
+	    || (strcmp (mime_type, "application/x-xar") == 0)
+	    || (strcmp (mime_type, "application/x-stone-archive") == 0))
 	{
 		return capabilities;
 	}
