name       : fftw
version    : 3.3.4
release    : 4
source     :
    - http://www.fftw.org/fftw-3.3.4.tar.gz : 8f0cde90929bc05587c3368d2f15cd0530a60b8a9912a8e2979a72dbe5af0982
license    : GPL-2.0
summary    : FFTW Fourier transform library
description: |
    FFTW is a C subroutine library for computing the discrete Fourier transform (DFT) in one or more dimensions, of arbitrary input size, and of both real and complex data (as well as of even/odd data, i.e. the discrete cosine/sine transforms or DCT/DST).
builddeps  :
    - gfortran
setup      : |
    CONFOPTS="$CONFOPTS --disable-static --enable-shared --enable-openmp --enable-sse2 --enable-threads"
    mkdir .fftw-single
    mv * .fftw-single/ && mv .fftw-single fftw-single
    cp -R fftw-single fftw-double
    # Single precision
    cd fftw-single/
    ./configure $CONFOPTS --enable-float
    # Double precision
    cd ../fftw-double/
    ./configure $CONFOPTS --enable-avx
build      : |
    cd $srcdir/fftw-single/
    %make
    %make_install
    cd $srcdir/fftw-double/
    %make
    %make_install
