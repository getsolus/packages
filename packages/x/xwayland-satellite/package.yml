# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : xwayland-satellite
version    : '0.8'
release    : 3
source     :
    - https://github.com/Supreeeme/xwayland-satellite/archive/refs/tags/v0.8.tar.gz : c93bae2f9e3df5cb5511a65684cd6ecf8559c1663163e8a19b4894e4424e73c3
homepage   : https://github.com/Supreeeme/xwayland-satellite
license    : MPL-2.0
component  : desktop
summary    : Xwayland outside your Wayland
description: |
    Grants rootless Xwayland integration to any Wayland compositor implementing xdg_wm_base and viewporter. This is particularly useful for compositors that (understandably) do not want to go through implementing support for rootless Xwayland themselves.
builddeps  :
    - pkgconfig(xcb-cursor)
    - pkgconfig(xwayland)
    - rust
networking : true
setup      : |
    %patch -p1 -i $pkgfiles/0001-systemd-use-usr-bin-for-exectuable-path.patch
    %cargo_fetch
build      : |
    %cargo_build -F systemd
install    : |
    %cargo_install
    install -Dm00755 resources/xwayland-satellite.service -t $installdir/%libdir%/systemd/user
