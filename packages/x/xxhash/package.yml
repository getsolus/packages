# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : xxhash
version    : 0.8.3
release    : 11
source     :
    - https://github.com/Cyan4973/xxHash/archive/refs/tags/v0.8.3.tar.gz : aae608dfe8213dfd05d909a57718ef82f30722c392344583d3f39050c7f29a80
homepage   : https://xxhash.com/
license    :
    - BSD-2-Clause
    - GPL-2.0-or-later
component  : programming.library
summary    : Extremely fast hash algorithm
description: |
    xxHash is an Extremely fast Hash algorithm, running at RAM speed limits. It successfully completes the SMHasher test suite which evaluates collision, dispersion and randomness qualities of hash functions. Code is highly portable, and hashes are identical on all platforms (little / big endian).
avx2       : true
build      : |
    if [[ ! -z "${AVX2BUILD}" ]]; then
      XXH_AVX2=1 %make
    else
      XXH_SSE2=1 DISPATCH=1 %make
    fi
install    : |
    %make_install PREFIX=/usr LIBDIR=%libdir%
    rm $installdir/%libdir%/libxxhash.a
