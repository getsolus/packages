diff -uNrp a/src/eog-plugin-engine.c b/src/eog-plugin-engine.c
--- a/src/eog-plugin-engine.c	2024-09-07 23:06:11.000000000 +0100
+++ b/src/eog-plugin-engine.c	2025-09-10 12:46:02.633437101 +0100
@@ -34,7 +34,7 @@
 #include <glib/gi18n.h>
 #include <glib.h>
 #include <gio/gio.h>
-#include <girepository.h>
+#include <girepository/girepository.h>
 
 #define EOG_PLUGIN_DATA_DIR EOG_DATA_DIR G_DIR_SEPARATOR_S "plugins"
 
@@ -89,7 +89,7 @@ eog_plugin_engine_new (void)
 					"girepository-1.0", NULL);
 
 	/* This should be moved to libpeas */
-	if (g_irepository_require (g_irepository_get_default (),
+	if (gi_repository_require (gi_repository_dup_default (),
 				   "Peas", "1.0", 0, &error) == NULL)
 	{
 		g_warning ("Error loading Peas typelib: %s\n",
@@ -98,7 +98,7 @@ eog_plugin_engine_new (void)
 	}
 
 
-	if (g_irepository_require (g_irepository_get_default (),
+	if (gi_repository_require (gi_repository_dup_default (),
 				   "PeasGtk", "1.0", 0, &error) == NULL)
 	{
 		g_warning ("Error loading PeasGtk typelib: %s\n",
@@ -107,7 +107,7 @@ eog_plugin_engine_new (void)
 	}
 
 
-	if (g_irepository_require_private (g_irepository_get_default (),
+	if (gi_repository_require_private (gi_repository_dup_default (),
 					   private_path, "Eog", "3.0", 0,
 					   &error) == NULL)
 	{
diff -uNrp a/src/main.c b/src/main.c
--- a/src/main.c	2024-09-07 23:06:11.000000000 +0100
+++ b/src/main.c	2025-09-10 12:47:46.012620624 +0100
@@ -27,7 +27,7 @@
 #include "config.h"
 #endif
 #ifdef HAVE_INTROSPECTION
-#include <girepository.h>
+#include <girepository/girepository.h>
 #endif
 
 #include "eog-application.h"
@@ -102,7 +102,7 @@ main (int argc, char **argv)
 	 * Using gtk_get_option_group here initializes gtk during parsing */
 	g_option_context_add_group (ctx, gtk_get_option_group (FALSE));
 #ifdef HAVE_INTROSPECTION
-	g_option_context_add_group (ctx, g_irepository_get_option_group ());
+	g_option_context_add_group (ctx, gi_repository_get_option_group ());
 #endif
 
 	if (!g_option_context_parse (ctx, &argc, &argv, &error)) {
