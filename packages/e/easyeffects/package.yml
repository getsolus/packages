# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name: easyeffects
version: 7.2.5
release: 25
source:
    - https://github.com/wwmm/easyeffects/archive/refs/tags/v7.2.5.tar.gz: d86877b12648a24b3b21a56d16d5680ee2585d575878ecdcea1b9bd9bb428191
homepage: https://github.com/wwmm/easyeffects
license: GPL-3.0-or-later
component: multimedia.audio
summary: Audio effects for PipeWire applications
description: |
    Limiter, compressor, convolver, equalizer and auto volume and many other plugins for PipeWire applications
builddeps:
    - pkgconfig(fftw3)
    - pkgconfig(fftw3f)
    - pkgconfig(fmt)
    - pkgconfig(glib-2.0)
    - pkgconfig(gsl)
    - pkgconfig(gtk4)
    - pkgconfig(libadwaita-1)
    - pkgconfig(libbs2b)
    - pkgconfig(libebur128)
    - pkgconfig(libeconf)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libportal-gtk4)
    - pkgconfig(lilv-0)
    - pkgconfig(lv2)
    - pkgconfig(nlohmann_json)
    - pkgconfig(rnnoise)
    - pkgconfig(rubberband)
    - pkgconfig(samplerate)
    - pkgconfig(sigc++-3.0)
    - pkgconfig(sndfile)
    - pkgconfig(soundtouch)
    - pkgconfig(speexdsp)
    - pkgconfig(tbb)
    - desktop-file-utils
    - itstool
    - ladspa-devel
    - zita-convolver-devel
rundeps:
    - calf
    - deepfilternet
    - fmt
    - lsp-plugins
    - mda-lv2
    - yelp
    - zam-plugins
clang: true
setup: |
    # https://github.com/llvm/llvm-project/issues/65125
    # error: no member named 'par_unseq' in namespace 'std::execution'
    export CXXFLAGS="${CXXFLAGS} -fexperimental-library"

    %meson_configure \
        -Denable-libcpp-workarounds=true
build: |
    %ninja_build
install: |
    %ninja_install
replaces:
    - pulseeffects
    - dbginfo: pulseeffects-dbginfo
