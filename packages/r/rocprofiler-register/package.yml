# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : rocprofiler-register
version    : 7.0.2
release    : 2
source     :
    # rocm-7.0.2
    # requires Git to be present
    - git|https://github.com/ROCm/rocprofiler-register.git : 6cea50dffdb30824d7e73289d4d99abcb329abbd
homepage   : https://github.com/ROCm-Developer-Tools/roctracer
license    : MIT
component  : programming.library
summary    : ROCprofiler (v2) API interception coordination helper library
description: |
    The rocprofiler-register library is a helper library that coordinates the modification of the intercept API table(s) of the HSA/HIP/ROCTx runtime libraries by the ROCprofiler (v2) library. The purpose of this library is to provide a consistent and automated mechanism of enabling performance analysis in the ROCm runtimes which does not rely on environment variables or unique methods for each runtime library.
setup      : |
    sed -i 's|set(CMAKE_INSTALL_LIBDIR "lib")|set(CMAKE_INSTALL_LIBDIR "lib%LIBSUFFIX%")|' CMakeLists.txt
    %cmake_ninja
build      : |
    %ninja_build
install    : |
    %ninja_install
