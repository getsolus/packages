# yaml-language-server: $schema=/usr/share/ypkg/schema/schema.json
name       : rocm-smi
version    : 7.0.2
release    : 8
source     :
    - https://github.com/ROCm/rocm_smi_lib/archive/refs/tags/rocm-7.0.2.tar.gz : cdd7951fb46b79f6791340da21fc47dc3e719f82795f2e1f5546bb7d35db954c
homepage   : https://github.com/ROCm/rocm_smi_lib
license    : NCSA
component  : programming.devel
summary    : ROCm System Management Interface Library
description: |
    ROCm System Management Interface Library
builddeps  :
    - pkgconfig(libdrm)
    - rocm-cmake
setup      : |
    %cmake_ninja -DCMAKE_INSTALL_LIBDIR=lib%LIBSUFFIX%
build      : |
    %ninja_build
install    : |
    %ninja_install
    # Fix some package assuming wrong symlink versions
    ln -s librocm_smi64.so.1 $installdir/%libdir%/librocm_smi64.so.6
